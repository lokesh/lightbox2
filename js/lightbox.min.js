/**
 * Lightbox v2.7.1
 * by Lokesh Dhakar - http://lokeshdhakar.com/projects/lightbox2/
 *
 * @license http://creativecommons.org/licenses/by/2.5/
 * - Free for use in both personal and commercial projects
 * - Attribution requires leaving author name, author link, and the license info intact
 */
 (function(){var $=jQuery;var l=(function(){function l(){this.fadeDuration=500;this.fitImagesInViewport=true;this.resizeDuration=700;this.positionFromTop=50;this.showImageNumberLabel=true;this.alwaysShowNavOnTouchDevices=false;this.wrapAround=false}l.prototype.albumLabel=function(a,b){return"Image "+a+" of "+b};return l})();var m=(function(){function m(a){this.options=a;this.album=[];this.currentImageIndex=void 0;this.init()}m.prototype.init=function(){this.enable();this.build()};m.prototype.enable=function(){var b=this;$('body').on('click','a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]',function(a){b.start($(a.currentTarget));return false})};m.prototype.build=function(){var b=this;$("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo($('body'));this.$lightbox=$('#lightbox');this.$overlay=$('#lightboxOverlay');this.$outerContainer=this.$lightbox.find('.lb-outerContainer');this.$container=this.$lightbox.find('.lb-container');this.containerTopPadding=parseInt(this.$container.css('padding-top'),10);this.containerRightPadding=parseInt(this.$container.css('padding-right'),10);this.containerBottomPadding=parseInt(this.$container.css('padding-bottom'),10);this.containerLeftPadding=parseInt(this.$container.css('padding-left'),10);this.$overlay.hide().on('click',function(){b.end();return false});this.$lightbox.hide().on('click',function(a){if($(a.target).attr('id')==='lightbox'){b.end()}return false});this.$outerContainer.on('click',function(a){if($(a.target).attr('id')==='lightbox'){b.end()}return false});this.$lightbox.find('.lb-prev').on('click',function(){if(b.currentImageIndex===0){b.changeImage(b.album.length-1)}else{b.changeImage(b.currentImageIndex-1)}return false});this.$lightbox.find('.lb-next').on('click',function(){if(b.currentImageIndex===b.album.length-1){b.changeImage(0)}else{b.changeImage(b.currentImageIndex+1)}return false});this.$lightbox.find('.lb-loader, .lb-close').on('click',function(){b.end();return false})};m.prototype.start=function(b){var c=this;var d=$(window);d.on('resize',$.proxy(this.sizeOverlay,this));$('select, object, embed').css({visibility:"hidden"});this.sizeOverlay();this.album=[];var e=0;function addToAlbum(a){c.album.push({link:a.attr('href'),title:a.attr('data-title')||a.attr('title'),alt:a.attr('data-alt')})}var f=b.attr('data-lightbox');var g;if(f){g=$(b.prop("tagName")+'[data-lightbox="'+f+'"]');for(var i=0;i<g.length;i=++i){addToAlbum($(g[i]));if(g[i]===b[0]){e=i}}}else{if(b.attr('rel')==='lightbox'){addToAlbum(b)}else{g=$(b.prop("tagName")+'[rel="'+b.attr('rel')+'"]');for(var j=0;j<g.length;j=++j){addToAlbum($(g[j]));if(g[j]===b[0]){e=j}}}}var h=d.scrollTop()+this.options.positionFromTop;var k=d.scrollLeft();this.$lightbox.css({top:h+'px',left:k+'px'}).fadeIn(this.options.fadeDuration);this.changeImage(e)};m.prototype.changeImage=function(b){var c=this;this.disableKeyboardNav();var d=this.$lightbox.find('.lb-image');this.$overlay.fadeIn(this.options.fadeDuration);$('.lb-loader').fadeIn('slow');this.$lightbox.find('.lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption').hide();this.$outerContainer.addClass('animating');var e=new Image();e.onload=function(){var a,imageHeight,imageWidth,maxImageHeight,maxImageWidth,windowHeight,windowWidth;d.attr('src',c.album[b].link);d.attr('alt',c.album[b].alt);a=$(e);d.width(e.width);d.height(e.height);if(c.options.fitImagesInViewport){windowWidth=$(window).width();windowHeight=$(window).height();maxImageWidth=windowWidth-c.containerLeftPadding-c.containerRightPadding-20;maxImageHeight=windowHeight-c.containerTopPadding-c.containerBottomPadding-120;if((e.width>maxImageWidth)||(e.height>maxImageHeight)){if((e.width/maxImageWidth)>(e.height/maxImageHeight)){imageWidth=maxImageWidth;imageHeight=parseInt(e.height/(e.width/imageWidth),10);d.width(imageWidth);d.height(imageHeight)}else{imageHeight=maxImageHeight;imageWidth=parseInt(e.width/(e.height/imageHeight),10);d.width(imageWidth);d.height(imageHeight)}}}c.sizeContainer(d.width(),d.height())};e.src=this.album[b].link;this.currentImageIndex=b};m.prototype.sizeOverlay=function(){this.$overlay.width($(window).width()).height($(document).height())};m.prototype.sizeContainer=function(a,b){var c=this;var d=this.$outerContainer.outerWidth();var e=this.$outerContainer.outerHeight();var f=a+this.containerLeftPadding+this.containerRightPadding;var g=b+this.containerTopPadding+this.containerBottomPadding;function postResize(){c.$lightbox.find('.lb-dataContainer').width(f);c.$lightbox.find('.lb-prevLink').height(g);c.$lightbox.find('.lb-nextLink').height(g);c.showImage()}if(d!==f||e!==g){this.$outerContainer.animate({width:f,height:g},this.options.resizeDuration,'swing',function(){postResize()})}else{postResize()}};m.prototype.showImage=function(){this.$lightbox.find('.lb-loader').hide();this.$lightbox.find('.lb-image').fadeIn('slow');this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};m.prototype.updateNav=function(){var a=false;try{document.createEvent("TouchEvent");a=(this.options.alwaysShowNavOnTouchDevices)?true:false}catch(e){}this.$lightbox.find('.lb-nav').show();if(this.album.length>1){if(this.options.wrapAround){if(a){this.$lightbox.find('.lb-prev, .lb-next').css('opacity','1')}this.$lightbox.find('.lb-prev, .lb-next').show()}else{if(this.currentImageIndex>0){this.$lightbox.find('.lb-prev').show();if(a){this.$lightbox.find('.lb-prev').css('opacity','1')}}if(this.currentImageIndex<this.album.length-1){this.$lightbox.find('.lb-next').show();if(a){this.$lightbox.find('.lb-next').css('opacity','1')}}}}};m.prototype.updateDetails=function(){var b=this;if(typeof this.album[this.currentImageIndex].title!=='undefined'&&this.album[this.currentImageIndex].title!==""){this.$lightbox.find('.lb-caption').html(this.album[this.currentImageIndex].title).fadeIn('fast').find('a').on('click',function(a){location.href=$(this).attr('href')})}if(this.album.length>1&&this.options.showImageNumberLabel){this.$lightbox.find('.lb-number').text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn('fast')}else{this.$lightbox.find('.lb-number').hide()}this.$outerContainer.removeClass('animating');this.$lightbox.find('.lb-dataContainer').fadeIn(this.options.resizeDuration,function(){return b.sizeOverlay()})};m.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var a=new Image();a.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var b=new Image();b.src=this.album[this.currentImageIndex-1].link}};m.prototype.enableKeyboardNav=function(){$(document).on('keyup.keyboard',$.proxy(this.keyboardAction,this))};m.prototype.disableKeyboardNav=function(){$(document).off('.keyboard')};m.prototype.keyboardAction=function(a){var b=27;var c=37;var d=39;var e=a.keyCode;var f=String.fromCharCode(e).toLowerCase();if(e===b||f.match(/x|o|c/)){this.end()}else if(f==='p'||e===c){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(this.album.length-1)}}else if(f==='n'||e===d){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(0)}}};m.prototype.end=function(){this.disableKeyboardNav();$(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);$('select, object, embed').css({visibility:"visible"})};return m})();$(function(){var a=new l();var b=new m(a)})}).call(this);
//# sourceMappingURL=lightbox.min.map
