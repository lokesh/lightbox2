/*!
  * Lightbox v2.11.2
  * by Lokesh Dhakar
  *
  * More info:
  * http://lokeshdhakar.com/projects/lightbox2/
  *
  * Copyright Lokesh Dhakar
  * Released under the MIT license
  * https://github.com/lokesh/lightbox2/blob/master/LICENSE
  *
  * @preserve
  */
var g=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var I=(r,t,i)=>t in r?g(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var A=(r,t)=>()=>(r&&(t=r(r=0)),t);var w=(r,t)=>{for(var i in t)g(r,i,{get:t[i],enumerable:!0})},L=(r,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of v(t))!x.call(r,s)&&s!==i&&g(r,s,{get:()=>t[s],enumerable:!(a=f(t,s))||a.enumerable});return r};var E=r=>L(g({},"__esModule",{value:!0}),r);var u=(r,t,i)=>(I(r,typeof t!="symbol"?t+"":t,i),i);var m={};w(m,{default:()=>B,lightbox:()=>B});var k,b,p,B,y=A(()=>{k=r=>{document.readyState==="loading"?addEventListener("DOMContentLoaded",r,{once:!0,passive:!0}):r()},b=class{album=[];currentImageIndex=0;options=Object.assign(Object.create(null),b.defaults);lightbox;overlay;outerContainer;image;nav;prev;next;loader;dataContainer;caption;number;containerPadding;imageBorderWidth;sizeOverlayBind=()=>{this.sizeOverlay};keyboardActionBind=t=>{this.keyboardAction(t)};constructor(t){this.init(),this.option(t)}option(t){Object.assign(this.options,t)}imageCountLabel(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)}init(){k(()=>{this.enable(),this.build()})}enable(){let t=this;function i(o){o.preventDefault(),o.stopPropagation(),t.start(this)}let{links:a}=document,{length:s}=a;for(let o=0;o<s;o++){let e=a[o];(e.rel.startsWith("lightbox")||e.dataset.lightbox!==void 0)&&e.addEventListener("click",i)}}build(){if(document.getElementById("lightbox"))return;document.body.insertAdjacentHTML("beforeend",'<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>'),this.lightbox=document.getElementById("lightbox"),this.overlay=document.getElementById("lightboxOverlay"),this.outerContainer=this.lightbox.querySelector(".lb-outerContainer"),this.dataContainer=this.lightbox.querySelector(".lb-dataContainer");let t=this.lightbox.querySelector(".lb-container");this.image=this.lightbox.querySelector(".lb-image"),this.nav=this.lightbox.querySelector(".lb-nav"),this.prev=this.lightbox.querySelector(".lb-prev"),this.next=this.lightbox.querySelector(".lb-next"),this.loader=this.lightbox.querySelector(".lb-loader");let i=this.lightbox.querySelector(".lb-close");this.caption=this.lightbox.querySelector(".lb-caption"),this.number=this.lightbox.querySelector(".lb-number");let a=getComputedStyle(t);this.containerPadding={top:Math.floor(Number.parseFloat(a.paddingTop)),right:Math.floor(Number.parseFloat(a.paddingRight)),bottom:Math.floor(Number.parseFloat(a.paddingBottom)),left:Math.floor(Number.parseFloat(a.paddingLeft))};let s=getComputedStyle(this.image);this.imageBorderWidth={top:Math.floor(Number.parseFloat(s.borderTopWidth)),right:Math.floor(Number.parseFloat(s.borderRightWidth)),bottom:Math.floor(Number.parseFloat(s.borderBottomWidth)),left:Math.floor(Number.parseFloat(s.borderLeftWidth))};let o=e=>{e.preventDefault(),e.stopPropagation(),this.end()};this.overlay.style.display="none",this.overlay.addEventListener("click",o),this.lightbox.style.display="none",this.lightbox.addEventListener("click",e=>{e.target===e.currentTarget&&this.end()},{passive:!0}),this.outerContainer.addEventListener("click",e=>{e.target===e.currentTarget&&o(e)}),this.prev.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.currentImageIndex===0?this.changeImage(this.album.length-1):this.changeImage(this.currentImageIndex-1)}),this.next.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.currentImageIndex===this.album.length-1?this.changeImage(0):this.changeImage(this.currentImageIndex+1)}),this.nav.addEventListener("mousedown",e=>{e.button===2&&(this.nav.style.pointerEvents="none",this.lightbox.addEventListener("contextmenu",()=>{setTimeout(()=>{this.nav.style.pointerEvents="auto"},0)},{once:!0}))});for(let e of[this.loader,i])e.addEventListener("click",o)}start(t){window.addEventListener("resize",this.sizeOverlayBind,{passive:!0}),this.sizeOverlay(),this.album=[];let i=0,a=l=>{this.album.push({alt:l.dataset.alt||"",link:l.getAttribute("href"),title:l.dataset.title||l.title})},s=t.dataset.lightbox;if(s){let l=document.querySelectorAll(`${t.tagName}[data-lightbox="${s}"]`);for(let h=0;h<l.length;h=++h)a(l[h]),l[h]===t&&(i=h)}else if(t.rel==="lightbox")a(t);else{let l=document.querySelectorAll(`${t.tagName}[rel="${t.rel}"]`);for(let h=0;h<l.length;h=++h)a(l[h]),l[h]===t&&(i=h)}let o=scrollY+this.options.positionFromTop,e=scrollX,{lightbox:n}=this;n.style.top=`${o}px`,n.style.left=`${e}px`,n.style.display="block",n.animate({opacity:[0,1]},{duration:this.options.fadeDuration}),this.options.disableScrolling&&document.body.classList.add("lb-disable-scrolling"),this.changeImage(i)}changeImage(t){let i=this.album[t].link,a=i.split(".").slice(-1)[0],{image:s,overlay:o,loader:e}=this;this.disableKeyboardNav(),o.style.display="block",o.animate({opacity:[0,.8]},{duration:this.options.fadeDuration}),e.style.display="block",e.animate({opacity:[0,1]},{duration:600});for(let l of[s,this.nav,this.prev,this.next,this.dataContainer,this.caption])l.style.display="none";this.outerContainer.classList.add("animating");let n=new Image;n.onload=()=>{s.alt=this.album[t].alt,s.src=i;let{width:l,height:h}=n,d=innerWidth-this.containerPadding.left-this.containerPadding.right-this.imageBorderWidth.left-this.imageBorderWidth.right-20,c=innerHeight-this.containerPadding.top-this.containerPadding.bottom-this.imageBorderWidth.top-this.imageBorderWidth.bottom-this.options.positionFromTop-70;a==="svg"&&(l=d,h=c),this.options.fitImagesInViewport?(this.options.maxWidth&&this.options.maxWidth<d&&(d=this.options.maxWidth),this.options.maxHeight&&this.options.maxHeight<c&&(c=this.options.maxHeight)):(d=this.options.maxWidth||n.width||d,c=this.options.maxHeight||n.height||c),(n.width>d||n.height>c)&&(n.width/d>n.height/c?(l=d,h=Math.floor(n.height/(n.width/d))):(h=c,l=Math.floor(n.width/(n.height/c)))),s.style.width=`${l}px`,s.style.height=`${h}px`,this.sizeContainer(l,h)},n.src=this.album[t].link,this.currentImageIndex=t}sizeOverlay(){setTimeout(()=>{this.overlay.style.width=`${innerWidth}px`,this.overlay.style.height=`${innerHeight}px`},0)}sizeContainer(t,i){let{outerContainer:a}=this,s=a.offsetWidth,o=a.offsetHeight,e=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,n=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom,l=()=>{this.dataContainer.style.width=`${e}px`,this.overlay.focus(),this.showImage()};s!==e||o!==n?a.animate([{width:`${e}px`,height:`${n}px`}],{duration:this.options.resizeDuration}).addEventListener("finish",()=>{a.style.width=`${e}px`,a.style.height=`${n}px`,l()},{once:!0,passive:!0}):l()}showImage(){let{image:t}=this;this.loader.style.display="none",t.style.display="block",t.animate({opacity:[0,1]},{duration:this.options.imageFadeDuration}),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()}updateNav(){let t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}let{nav:i,prev:a,next:s,album:o,currentImageIndex:e}=this;i.style.display="",o.length>1&&(this.options.wrapAround?(t&&(a.style.opacity="1",s.style.opacity="1"),a.style.display="block",s.style.display="block"):(e>0&&(a.style.display="block",t&&(a.style.opacity="1")),e<o.length-1&&(s.style.display="block",t&&(s.style.opacity="1"))))}updateDetails(){let{album:t,currentImageIndex:i,number:a,dataContainer:s}=this,{title:o}=t[i];if(o!==void 0&&o!==""){let{caption:e}=this;this.options.sanitizeTitle?e.textContent=o:e.innerHTML=o,e.style.display="block",e.animate({opaticy:[0,1]},{duration:200})}if(t.length>1&&this.options.showImageNumberLabel){let e=this.imageCountLabel(i+1,t.length);a.textContent=e,a.style.display="block",a.animate({opaticy:[0,1]},{duration:200})}else a.style.display="none";this.outerContainer.classList.remove("animating"),s.style.display="block",s.animate({opaticy:[0,1]},{duration:this.options.resizeDuration}).addEventListener("finish",this.sizeOverlayBind,{once:!0,passive:!0})}preloadNeighboringImages(){let{album:t,currentImageIndex:i}=this;if(t.length>i+1){let a=new Image;a.src=t[i+1].link}if(i>0){let a=new Image;a.src=t[i-1].link}}enableKeyboardNav(){this.lightbox.addEventListener("keyup",this.keyboardActionBind,{passive:!0}),this.overlay.addEventListener("keyup",this.keyboardActionBind,{passive:!0})}disableKeyboardNav(){this.lightbox.removeEventListener("keyup",this.keyboardActionBind),this.overlay.removeEventListener("keyup",this.keyboardActionBind)}keyboardAction(t){let{key:i}=t;i==="Escape"?(t.stopPropagation(),this.end()):i==="ArrowLeft"?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):i==="ArrowRight"&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))}end(){this.disableKeyboardNav(),window.removeEventListener("resize",this.sizeOverlayBind);let t=this.options.fadeDuration;for(let i of[this.lightbox,this.overlay])i.animate({opacity:0},{duration:t}).addEventListener("finish",()=>{i.style.display="none"},{once:!0,passive:!0});this.options.disableScrolling&&document.body.classList.remove("lb-disable-scrolling")}},p=b;u(p,"defaults",{albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1});B=new p});var{lightbox:C}=(y(),E(m));module.exports=C;
